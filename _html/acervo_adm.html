{{define "Alugueis"}}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/_css/style-ac-adm.css">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <link rel="icon" type="image/x-icon" href="/_imagens/FPL3.ico">
    <title>Relação de Livros</title>
    <link rel="icon" type="image/x-icon" href="/_imagens/FPL3.ico">
</head>

<body>
    <nav id="head">
        <div id="cab">
            <img src="/style/index-icon" width="56px" class="book" />
            <a href="/" id="lib">Livraria Fix Pay</a>
            <div class="checar">
                <input type="checkbox" class="checkbox" id="check" />
                <label class="fundo" for="check">
                    <i class="bi-moon-stars-fill"></i>
                    <i class="bi-sun-fill"></i>
                    <div class="ball"></div>
            </div>
        </div>
    </nav>
    </nav>
    <div class="content">
        <div class="container">
            <div class="btn_add">
                <a href="/new" id="btn-add">Inserir Novo Livro</a>
            </div>
            <section class="card">
                <div class="table-responsive">
                    <table class="table table-striped table-borderless mb-1">
                        <thead>
                            <tr class="text-center">
                                <th>Nome</th>
                                <th>Descrição</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{range .Produtos}}
                            <tr>
                                <td>{{.Nome}}</td>
                                <td><button class="truncate-text" data-id="{{.Id}}"
                                        onclick="expandText(this)">{{.Descricao}}</button></td>
                                <td><button style="{{if eq .Status "Disponível"}}background-color:#64cc9885;color:#11241b;border-radius:6px;box-shadow:0px 1px 3px #00000052;border:none;height:auto;width:auto;padding:5px;{{else if eq .Status "Indisponível"}}background-color:#cc646480;color:#291414;border-radius:6px;box-shadow:0px 1px 3px #00000052;border:none;height:auto;width:auto;padding:5px;{{end}}">{{.Status}}</button></td>
                                <td class="cell"><a href="edit?id={{.Id}}" class="btn" id="btn-edit"> <i
                                            class="bi bi-pencil-square"></i></a></td>
                                <td class="cell"><button onclick="onDelete('{{.Id}}')" class="btn" id="btn-del"><i
                                            class="bi bi-trash3"></i></button></td>
                            </tr>
                            {{end}}
                        </tbody>
                    </table>
                    <table>

                        <tr>
                            <div class="pagination">
                                <div class="bottom">
                                    <span>Página {{.CurrentPage}} de {{.TotalPages}}&nbsp;</span>
                                    {{if gt .TotalPages 1}}
                                    {{if ne .CurrentPage 1}}
                                </div>
                                <div class="top">
                                    <a href="?page=1" class="pgin">1</a>&nbsp;<i class="bi-three-dots"></i>
                                    <a href="?page={{.PreviousPage}}" class="pgin"><i class="bi bi-caret-left"></i>Anterior</a>
                                    {{end}}
                                </div><div class="top_t">
                                {{if ne .CurrentPage .TotalPages}}
                                <a href="?page={{.NextPage}}" class="pgin">Próximo<i class="bi bi-caret-right"></i></a>
                                <i class="bi-three-dots"></i>&nbsp;<a href="?page={{.TotalPages}}" class="pgin">{{.TotalPages}}</a></div>
                                
                                {{end}}
                                {{end}}
                            </div>
                        </tr>
                    </table>

                </div>
            </section>
        </div>
    </div>
    <script src="/_js/acv.js"></script>
</body>
<footer>&copy; Desenvolvido por Fix Pay</footer>
<script>
    console.log("acv.js está carregado!");

    function onDelete(id) {
        let resposta = confirm("Tem certeza que deseja deletar esse produto?")
        if (resposta) {
            window.location = `/delete?id=${id}`
        }
    }
    
</script>

</html>
{{end}}